set default=0
set timeout=5
set gfxmode=1024x768
set gfxpayload=keep

# Set theme if it exists
if [ -f /boot/grub/theme.txt ]; then
    set theme=/boot/grub/theme.txt
fi

insmod all_video
insmod gfxterm
terminal_output gfxterm

# Chlorine Linux - Default Live Boot
menuentry "Chlorine Linux (Live)" {
    linux /live/vmlinuz boot=live components quiet splash
    initrd /live/initrd.img
}

# Chlorine Linux - With Non-Free Drivers
menuentry "Chlorine Linux (Live with non-free drivers)" {
    linux /live/vmlinuz boot=live components quiet splash nonfree=yes
    initrd /live/initrd.img
}

# Chlorine Linux - Failsafe Boot
menuentry "Chlorine Linux (Failsafe Mode)" {
    linux /live/vmlinuz boot=live components memtest noapic noapm nodma nomce nolapic nomodeset nosmp nosplash vga=normal
    initrd /live/initrd.img
}

# Memory test
menuentry "Memory Test" {
    linux16 /live/memtest
}

# Boot from first hard disk
menuentry "Boot from first hard disk" {
    set root=(hd0)
    chainloader +1
}
